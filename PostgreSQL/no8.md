## PostgreSQL学习笔记 运算符

常见的运算符有：

- 算术运算符
- 比较运算符
- 逻辑运算符
- 按位运算符

### 1. 算术运算符

假设变量 a 为 2，变量 b 为 3，则：

| 运算符 |        描述        |        实例         |
| :----: | :----------------: | :-----------------: |
|   +    |         加         |   a + b 结果为 5    |
|   -    |         减         |   a - b 结果为 -1   |
|   *    |         乘         |   a * b 结果为 6    |
|   /    |         除         |   b / a 结果为 1    |
|   %    |     模（取余）     |   b % a 结果为 1    |
|   ^    |        指数        |   a ^ b 结果为 8    |
|  \|/   |       平方根       |  \|/ 25.0 结果为 5  |
| \|\|/  |       立方根       | \|\|/ 27.0 结果为 3 |
|   !    |        阶乘        |   5 ! 结果为 120    |
|   !!   | 阶乘（前缀操作符） |   !! 5 结果为 120   |

### 2. 比较运算符

假设变量 a 为 10，变量 b 为 20，则：

|     运算符      |    描述    |                             实例                             |
| :-------------: | :--------: | :----------------------------------------------------------: |
|        =        |    等于    |                      (a = b) 为 false。                      |
|       !=        |   不等于   |                      (a != b) 为 true。                      |
|       <>        |   不等于   |                      (a <> b) 为 true。                      |
|        >        |    大于    |                      (a > b) 为 false。                      |
|        <        |    小于    |                      (a < b) 为 true。                       |
|       >=        |  大于等于  |                     (a >= b) 为 false。                      |
|       <=        |  小于等于  |                      (a <= b) 为 true。                      |
|      LEAST      |   最小值   |                      多个参数中的最小值                      |
|    GREATEST     |   最大值   |                      多个参数中的最大值                      |
| BETWEEN a AND b |    之间    |                      值是否在a与b值之间                      |
|       IN        |   存在于   |                     值是否在IN参数列表中                     |
|      LIKE       | 通配符匹配 | 百分号 **%** 下划线 **_**<br />百分号为0个或多个字符<br />下划线为1个字符 |
|     IS NULL     |    为空    |                          值是否为空                          |
|   IS NOT NULL   |   不为空   |                         值是否不为空                         |

### 3. 逻辑运算符

逻辑运算符有以下几种：

| 运算符              |                             描述                             |
| :------------------ | :----------------------------------------------------------: |
| **AND**逻辑与运算符 | 如果两个操作数都非零，则条件为真。PostgresSQL 中的 WHERE 语句可以用 AND 包含多个过滤条件。 |
| **NOT**逻辑非运算符 | 用来逆转操作数的逻辑状态。如果条件为真则逻辑非运算符将使其为假。PostgresSQL 有 NOT EXISTS, NOT BETWEEN, NOT IN 等运算符。 |
| **OR**逻辑或运算符  | 如果两个操作数中有任意一个非零，则条件为真。PostgresSQL 中的 WHERE 语句可以用 OR 包含多个过滤条件。 |

SQL 使用三值的逻辑系统，包括 true、false 和 null，null 表示"未知"。

| *`a`* | *`b`* | *`a`* AND *`b`* | *`a`* OR *`b`* | NOT *`a`* |
| :---- | :---- | :-------------- | :------------- | --------- |
| TRUE  | TRUE  | TRUE            | TRUE           | FALSE     |
| TRUE  | FALSE | FALSE           | TRUE           | FALSE     |
| TRUE  | NULL  | NULL            | TRUE           | FALSE     |
| FALSE | FALSE | FALSE           | FALSE          | TRUE      |
| FALSE | NULL  | FALSE           | NULL           | TRUE      |
| NULL  | NULL  | NULL            | NULL           | NULL      |

### 4. 位运算符

位运算符作用于位，并逐位执行操作。&、 | 和 ^ 的真值表如下所示：

| 运算符 | 描述                                                         | 实例                                                         |
| :----- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| &      | 按位与操作，按二进制位进行"与"运算。运算规则：`0&0=0;    0&1=0;     1&0=0;      1&1=1;` | (A & B) 将得到 12，即为 0000 1100                            |
| \|     | 按位或运算符，按二进制位进行"或"运算。运算规则：`0|0=0;    0|1=1;    1|0=1;     1|1=1;` | (A \| B) 将得到 61，即为 0011 1101                           |
| #      | 异或运算符，按二进制位进行"异或"运算。运算规则：`0#0=0;    0#1=1;    1#0=1;   1#1=0;` | (A # B) 将得到 49，即为 0011 0001                            |
| ~      | 取反运算符，按二进制位进行"取反"运算。运算规则：`~1=0;    ~0=1;` | (~A ) 将得到 -61，即为 1100 0011，一个有符号二进制数的补码形式。 |
| <<     | 二进制左移运算符。将一个运算对象的各二进制位全部左移若干位（左边的二进制位丢弃，右边补0）。 | A << 2 将得到 240，即为 1111 0000                            |
| >>     | 二进制右移运算符。将一个数的各二进制位全部右移若干位，正数左补0，负数左补1，右边丢弃。 | A >> 2 将得到 15，即为 0000 1111                             |



---

#### [返回目录](./)

